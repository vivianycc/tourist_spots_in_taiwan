(this["webpackJsonptourist-spots-in-taiwan"]=this["webpackJsonptourist-spots-in-taiwan"]||[]).push([[0],{30:function(e,t,s){},53:function(e,t,s){"use strict";s.r(t);var c=s(0),a=s.n(c),n=s(24),i=s.n(n),r=(s(30),s(7)),j=s(3),o=s(8),l=s.n(o),d=s(11),b=s(6),p=s(12),h=s.n(p),u=s(54),O={spot:s.p+"static/media/default_spot_img.9e7fb3bf.jpg"},x=s(1);var m=function(e){var t=e.id,s=e.name,c=e.picture,a=c.PictureUrl1,n=c.PictureDescription1;console.log(a);var i={pathname:"/spot/".concat(t),state:{id:t}};return Object(x.jsx)(r.b,{to:i,id:t,children:Object(x.jsxs)("div",{className:"spot",children:[Object(x.jsx)("div",{className:"spot-img",children:Object(x.jsx)("img",{src:a||O.spot,alt:n})}),Object(x.jsxs)("div",{className:"spot-brief",children:[Object(x.jsxs)("div",{className:"spot-rating",children:[Object(x.jsx)(u.a,{}),Object(x.jsx)("span",{children:"5.0"})]}),Object(x.jsx)("h2",{children:s})]})]})})};var v=function(e){var t=e.spots;return Object(x.jsx)("div",{className:"search-results",children:t.length?t.map((function(e){return Object(x.jsx)(m,{id:e.ID,name:e.Name,description:e.DescriptionDetail,picture:e.Picture},e.ID)})):Object(x.jsx)("h2",{children:"No spots Found"})})};var f=function(e){var t=e.className,s=e.type,c=e.clickHandler;return Object(x.jsx)("button",{className:t+" icon-button",type:s,onClick:c,children:e.children})},N=s(55),g=s(25);function w(){var e=(new Date).toGMTString(),t=new g.a("SHA-1","TEXT");t.setHMACKey("r4Q6k0QzxX0rj9r6wb2WsuDSsaQ","TEXT"),t.update("x-date: "+e);var s=t.getHMAC("B64");return{Authorization:'hmac username="'.concat("fbe78613b5394fdda728acaf51ee3d61",'", algorithm="hmac-sha1", headers="x-date", signature="').concat(s,'"'),"X-Date":e}}var y=function(){var e=Object(c.useState)("\u516c\u5712"),t=Object(b.a)(e,2),s=t[0],a=t[1],n=Object(c.useState)([]),i=Object(b.a)(n,2),r=i[0],j=i[1],o="https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot?$select=ID%2CName%2CPicture&$filter=contains(Name%2C%20'".concat(s,"')&$top=50&$format=JSON\n  ");function p(){return u.apply(this,arguments)}function u(){return(u=Object(d.a)(l.a.mark((function e(){var t,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(o,{headers:w()});case 2:t=e.sent,s=t.data,j(s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){p()}),[]),Object(x.jsxs)("div",{className:"search-area",children:[Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p()},children:[Object(x.jsx)("label",{htmlFor:"search",children:"\u4f60\u60f3\u8981\u53bb\u54ea\u88e1\uff1f"}),Object(x.jsx)("input",{id:"search",type:"search",value:s,placeholder:"\u8acb\u8f38\u5165\u95dc\u9375\u5b57",onChange:function(e){return a(e.target.value)}}),Object(x.jsx)(f,{className:"search dark",type:"submit",children:Object(x.jsx)(N.a,{})})]}),Object(x.jsx)(v,{spots:r})]})};var D=function(){return Object(x.jsx)("div",{className:"explore-page",children:Object(x.jsx)(y,{})})};var S=function(){return Object(x.jsxs)("div",{className:"city-page",children:[Object(x.jsx)("header",{children:Object(x.jsx)("h1",{children:"\u53f0\u5317\u5e02"})}),Object(x.jsxs)("section",{className:"tourist-spot-list",children:[Object(x.jsx)("h2",{children:"\u666f\u9ede"}),Object(x.jsx)(m,{className:"tourist-spot-item"}),Object(x.jsx)(m,{className:"tourist-spot-item"}),Object(x.jsx)(m,{className:"tourist-spot-item"})]}),Object(x.jsx)("section",{className:"tourist-activity-list",children:Object(x.jsx)(m,{className:"tourist-activity-item"})})]})},P=s(56),k=s(57),T=s(58),C=s(59),$=s(60),A=s(61),M=s(62),E=s(63),H=s(64);var I=function(e){var t=Object(c.useState)({}),s=Object(b.a)(t,2),a=s[0],n=s[1],i=Object(j.g)().id,o=Object(j.f)(),p="https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot?$filter=ID%20eq%20'".concat(i,"'&$top=3&$format=JSON");function u(){return(u=Object(d.a)(l.a.mark((function e(){var t,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(p,{headers:w()});case 2:t=e.sent,s=t.data,n(s[0]);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){!function(){u.apply(this,arguments)}()}),[]);var m=a.Name,v=void 0===m?"\u666f\u9ede\u540d\u7a31":m,N=a.DescriptionDetail,g=void 0===N?"description":N,y=a.Picture,D=void 0===y?{}:y,S=a.Class1,I=void 0===S?"":S,J=a.OpenTime,U=void 0===J?"open time":J,X=a.ParkingPosition,z=void 0===X?{}:X,Q=a.UpdateTime,q=void 0===Q?"update time":Q,B=a.WebsiteUrl,F=void 0===B?"":B,L=a.Address,W=void 0===L?"address":L,_=a.Phone,G=void 0===_?"phone num":_,K=a.Position,R=void 0===K?{}:K,V=D.PictureUrl1,Y=D.PictureDescription1;return Object(x.jsxs)("div",{className:"spot-page",children:[Object(x.jsxs)("header",{children:[Object(x.jsx)(f,{className:"white back-button",clickHandler:function(){return o(-1)},children:Object(x.jsx)(P.a,{})}),Object(x.jsxs)("div",{className:"title-content",children:[Object(x.jsx)("h1",{children:v}),I?Object(x.jsx)("div",{className:"label",children:I}):null]}),Object(x.jsx)("div",{className:"spot-header-img",children:Object(x.jsx)("img",{src:V||O.spot,alt:Y})})]}),Object(x.jsxs)("div",{className:"spot-content",children:[Object(x.jsxs)("div",{className:"spot-info",children:[Object(x.jsxs)("div",{className:"open-time",children:[Object(x.jsx)(k.a,{}),Object(x.jsx)("span",{children:U||"\u6c92\u6709\u8cc7\u6599"})]}),F?Object(x.jsxs)("div",{className:"website",children:[Object(x.jsx)(T.a,{}),Object(x.jsx)(r.b,{to:F,children:F})]}):null,W?Object(x.jsxs)("address",{className:"address",children:[Object(x.jsx)(C.a,{}),Object(x.jsx)("span",{children:"\u81fa\u5317\u5e02"})]}):null,Object(x.jsx)("div",{className:"parking",children:z==={}?Object(x.jsxs)("span",{children:[Object(x.jsx)($.a,{}),"\u6709\u505c\u8eca\u4f4d"]}):Object(x.jsxs)("span",{children:[Object(x.jsx)(A.a,{}),"\u6c92\u6709\u505c\u8eca\u4f4d"]})})]}),Object(x.jsxs)("div",{className:"spot-desc",children:[Object(x.jsx)("h2",{children:"\u666f\u9ede\u4ecb\u7d39"}),Object(x.jsx)("p",{children:g})]}),Object(x.jsxs)("div",{className:"spot-update-time",children:[Object(x.jsx)(M.a,{}),Object(x.jsx)("span",{children:q})]})]}),Object(x.jsxs)("div",{className:"spot-contact",children:[G?Object(x.jsxs)("a",{href:"tel:".concat(G),className:"text-button call",children:[Object(x.jsx)(E.a,{}),"\u6253\u96fb\u8a71"]}):null,Object(x.jsxs)("a",{href:"http://maps.google.com/maps?z=12&t=m&q=loc:".concat(R.PositionLat,"+").concat(R.PositionLon,"\n"),className:"text-button map",children:[Object(x.jsx)(H.a,{}),"\u770b\u5730\u5716"]})]})]})};var J=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(r.a,{children:Object(x.jsxs)(j.c,{children:[Object(x.jsx)(j.a,{path:"/spot/:id",element:Object(x.jsx)(I,{})}),Object(x.jsx)(j.a,{path:"/city/:id",element:Object(x.jsx)(S,{})}),Object(x.jsx)(j.a,{path:"/",element:Object(x.jsx)(D,{})})]})})})};i.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(J,{})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.534d76a6.chunk.js.map